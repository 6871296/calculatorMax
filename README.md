# CalculatorMax 软件说明书

由于发现Python同样支持位运算，[C++版](https://github.dev/6871296/calculatorMax_cpp)已Archive。请使用最新的bitCalculator功能。

## 专有名词讲解

### simpleeval模式

simpleeval模式是另一种计算算式的方法。它基于`simpleeval`库中的`simple_eval`函数，比`eval`函数更安全，但功能更少（但少的只有“高级”、“执行类”和Python代码）。该模式~~尽管是开发的一个累赘但我还是~~会持续更新，加入新的功能。

## 计算功能

在simpleeval模式下，目前仅已知以下功能和Python关键字可用。（高级、执行类除外）

非simpleeval模式可以执行任何Python代码。

### 一般功能

`a+b`: 加法

`a-b`: 减法

`a*b`: 乘法

`a/b`: 除法

`a%b`: 取余

`m`: 记忆

`a//b`: 整除

`a**b`: 幂

### 比较大小

（以下内容结果均为布尔值（真或假），只能用于逻辑运算）

`a==b`: 等于

`a>b`: 大于

`a<b`: 小于

`a>=b`: 大于等于

`a<=b`: 小于等于

### 逻辑运算

（以下内容结果均为布尔值（真或假），只能用于逻辑运算，前后都要加空格）

`a or b`: 或运算

`a and b`: 与运算

`not a`: 非运算

### 数学常数

`pi`: 圆周率π（3.1415926...）

`e`: 自然对数的底数e（2.71828...）

### 幂函数和开方

`pow(x, y)`: x的y次幂

`sqrt(x)`: x的平方根

### 对数函数

`log(x)`: x的自然对数

`log10(x)`: x的底数为10的对数

`log2(x)`: x的底数为2的对数（Python 3.3及以上版本）

### 三角函数

`sin(x)`: 正弦函数

`cos(x)`: 余弦函数

`tan(x)`: 正切函数

`asin(x)`: 正弦的逆函数

`acos(x)`: 余弦的逆函数

`atan(x)`: 正切的逆函数

`atan2(y, x)`: 从x轴到点(x, y)的角度，范围在-π到π

### 角度和弧度转换

`degrees(x)`: 弧度转换为角度

`radians(x)`: 角度转换为弧度

### 双曲函数

`sinh(x)`: 双曲正弦函数

`cosh(x)`: 双曲余弦函数

`tanh(x)`: 双曲正切函数

### 特殊函数

`gamma(x)`: Γ函数（阶乘的推广）

`erf(x)`: 误差函数

`erfc(x)`: 补误差函数

### 数值操作

`ceil(x)`: 向上取整

`floor(x)`: 向下取整

`trunc(x)`: 向0取整

`modf(x)`: 分离整数部分和小数部分

`fabs(x)`: 绝对值

`factorial(x)`: 阶乘

### 浮点数信息

`isinf(x)`: 如果x是无穷大，则返回True（布尔值，只能用于逻辑运算）

`isnan(x)`: 如果x不是数字（NaN），则返回True（布尔值，只能用于逻辑运算）

`isclose(a, b, *, rel_tol=1e-09, abs_tol=0.0)`: 测试两个小数是否在给定容忍范围内相等

### GCD和LCM

`gcd(x, y)`: 计算最大公约数

`lcm(x, y)`: 计算最小公倍数

### 求几何图形面积

`s_tri(bot, high)`: 计算三角形面积

`s_rect(bot, high)`: 计算矩形面积

`s_circle(r)`: 计算圆形面积

`s_tra(bot,top, high)`: 计算梯形面积

### 海伦公式与勾股定理

`hsf_s_tri(a,b,c)`: 使用海伦公式计算三角形面积

`pt(a,b)`:使用勾股定理计算直角三角形斜边长度

### 随机数

`randint(a, b)`: 生成a~b范围内的随机整数

`random()`: 生成0~1范围内的随机小数

`uniform(a, b)`: 生成a~b范围内的随机小数

### 高级

**重要警告：非调试用途请勿随意使用**

`use_simple_eval`: 是否使用simpleeval模式

`f`: 上次计算的结果

`ev`: 上次的算式

`err`: 上次计算是否报错

`history`: 以{'算式':'结果'}为格式的历史记录

`hr_str`: 上次打开历史记录页显示的内容

### 执行类

**重要警告：非调试用途请勿随意使用**

`subprocess.run(cmd=['command'])`: 执行系统命令

`break`: 强制返回首页

`useinfo()`: 打开说明书

`sys.exit()`: 强制退出

## 三、备注

1. 数字大小不能大于9223372036854775807位（约9京），负数同理。

   一般家用、个人计算机**不建议计算或处理1古戈尔（100位）以上的数**，否则会导致卡顿甚至崩溃。

2. 小数最高精度约为15位，最大是18e307。
3. 本程序可以捕捉的错误：
   1. 浮点数溢出（OverflowError）：由小数结果过大造成
   2. 除数为零（ZeroDivisionError）：输入1/0之类的算式造成
   3. 浮点数异常（FloatingPointError）：一般不怎么出现
   4. 值错误（ValueError）：调用函数时未输入正确范围内的数据
   5. 类型错误（TypeError）：调用函数时输入的不是数字/浮点数
   6. 结果不是数字（math.isnan()）：错误调用未在本说明书中出示的Python函数（输出结果正常且不是数字时不会引发报错）
   7. 整数溢出（math.isinf()）：计算结果太大（即使Python可以计算古戈尔级的数）
   8. **非算式或其它异常：输入如1=0这样的不合法算式或输入不正确的Python代码造成（最为常见）**
    但难免有无法捕捉的错误，**请勿恶意造成其它错误**。
4. 如发生未能捕捉的异常，请重新运行此程序。
5. **禁止执行不安全的Python代码，否则后果自负。**
